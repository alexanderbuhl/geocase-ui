const express = require('express');

const router = express.Router();


const mockData = {
  "responseHeader": {
    "status": 0,
    "QTime": 354,
    "params": {
      "q": "*",
      "facet.field": ["recordbasis",
        "highertaxon",
        "type_status",
        "country",
        "datasetowner",
        "providername",
        "providername",
        "providercountry"],
      "facet.mincount": "1",
      "rows": "0",
      "facet": "on"
    }
  },
  "response": {
    "numFound": 1110026, "start": 0, "docs": [
      {
        area_name: "Pacific Ocean",
        collectioncode: "Neptune Database",
        datasetowner: "Museum für Naturkunde Berlin",
        datasetownerabbrev: "MfN",
        datasourcecountry: "Germany",
        datasourceurl: "http://biocase.naturkundemuseum-berlin.de/current/pywrapper.cgi?dsa=mfn_Neptune",
        fullscientificname: "Actinocyclus ellipticus",
        has_image: false,
        has_map: true,
        id: "725536",
        is_mineral: false,
        last_harvested_processing: "2020-05-31T08:28:54Z",
        latitude: 4.2087,
        longitude: -133.3302,
        names: ["Actinocyclus ellipticus"],
        occurrenceid: 725536,
        provideraddress: "Neptune",
        providercountry: "Germany",
        providername: "Neptune",
        providerurl: "Neptune",
        recordbasis: "FossileSpecimen",
        taxon_id_pbdb: 1,
        unitid: "5741_DACTI0090",
        _version_: 1678545627496054800
      },
      {
        taxon_id_eol: 2,
        collectioncode: "GIT",
        collectorname: "Viira",
        country: "Estonia",
        datasetowner: "Department of Geology, TalTech",
        datasetownerabbrev: "GIT",
        datasourcecountry: "Estonia",
        datasourceurl: "https://bc.geocollections.info/pywrapper.cgi?dsa=geocase-git",
        fullscientificname: "'Cirognathus'? sp.",
        has_image: true,
        higherrank: "Classis",
        highertaxon: "Conodonta",
        id: "51021",
        image_author: "Baranov, G.",
        image_date: "2011-12-15",
        images: ["https://files.geocollections.info/medium/7b/5c/7b5c92b6-c1b1-498e-9de8-981236c6b7a3.jpg"],
        is_mineral: false,
        last_harvested_processing: "2020-01-08T13:56:39Z",
        latitude: 57.993092,
        locality: "Ohesaare borehole",
        longitude: 22.017741,
        names: ["'Cirognathus'? sp.", "Conodonta", "Erraticodon balticus Dzik, 1978", "Erraticodon balticus", "?Gen. et sp. indet. B"],
        occurrenceid: 51021,
        provideraddress: "EE",
        providercountry: "Estonia",
        providername: "Geocollections of Estonia",
        providerurl: "https://geocollections.info",
        recordURI: "https://geocollections.info/specimen/139933",
        recordbasis: "FossilSpecimen",
        relatedResource: "https://geocollections.info/file/43975",
        stratigraphytext: "Uhaku Stage",
        unitid: "74-85",
        url: "https://files.geocollections.info/medium/7b/5c/7b5c92b6-c1b1-498e-9de8-981236c6b7a3.jpg",
        _version_: 1672185993580511200
      },
      {
        taxon_id_tol: 3,
        collectioncode: "GIT",
        datasetowner: "Department of Geology, TalTech",
        datasetownerabbrev: "GIT",
        datasourcecountry: "Estonia",
        datasourceurl: "https://bc.geocollections.info/pywrapper.cgi?dsa=git",
        fullscientificname: "Seviculina reticulata",
        has_image: true,
        higherrank: "Classis",
        highertaxon: "Ostracoda",
        id: "189451",
        images: [
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/5a/83/5a83571e-ec8a-4df7-8d36-34fb04548105.jpg",
          "https://files.geocollections.info/medium/61/7f/617f0dea-ce00-4452-adc3-e12770dfce32.jpg",
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/5a/83/5a83571e-ec8a-4df7-8d36-34fb04548105.jpg",
          "https://files.geocollections.info/medium/61/7f/617f0dea-ce00-4452-adc3-e12770dfce32.jpg",
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/7b/5c/7b5c92b6-c1b1-498e-9de8-981236c6b7a3.jpg",
          "https://files.geocollections.info/medium/5a/83/5a83571e-ec8a-4df7-8d36-34fb04548105.jpg",
          "https://files.geocollections.info/medium/61/7f/617f0dea-ce00-4452-adc3-e12770dfce32.jpg",
          "https://files.geocollections.info/medium/7b/5c/7b5c92b6-c1b1-498e-9de8-981236c6b7a3.jpg",
          "https://files.geocollections.info/medium/7b/5c/7b5c92b6-c1b1-498e-9de8-981236c6b7a3.jpg",
          "https://files.geocollections.info/medium/5a/83/5a83571e-ec8a-4df7-8d36-34fb04548105.jpg",
          "https://files.geocollections.info/medium/61/7f/617f0dea-ce00-4452-adc3-e12770dfce32.jpg",
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/5a/83/5a83571e-ec8a-4df7-8d36-34fb04548105.jpg",
          "https://files.geocollections.info/medium/61/7f/617f0dea-ce00-4452-adc3-e12770dfce32.jpg",
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
          "https://files.geocollections.info/medium/5a/83/5a83571e-ec8a-4df7-8d36-34fb04548105.jpg",
          "https://files.geocollections.info/medium/7b/5c/7b5c92b6-c1b1-498e-9de8-981236c6b7a3.jpg"
        ],
        is_mineral: false,
        last_harvested_processing: "2020-01-09T07:28:54Z",
        names: ["Seviculina reticulata"],
        0: "Seviculina reticulata",
        occurrenceid: 189451,
        provideraddress: "Estonia",
        providercountry: "Estonia",
        providername: "SARV",
        providerurl: "https://geocollections.info",
        recordURI: "https://geocollections.info/specimen/57840",
        recordbasis: "FossilSpecimen",
        relatedResource: "https://geocollections.info/file/59380",
        stratigraphy: "Rakvere Stage",
        type_status: "holotype",
        unitid: "229-1",
        url: "https://files.geocollections.info/medium/6f/d1/6fd1ced7-920e-4240-89e4-d97ef9d2f4c0.jpg",
        _version_: 1672186031994044400
      },
      {
        taxon_id: 12,
        "id": "298858",
        "collectioncode": "SMNS Palaeontology IX",
        "unitid": "12929/1",
        "fullscientificname": "(?) Acrochordiceras",
        "is_mineral": false,
        "country": "Turkey",
        "recordbasis": "RockSpecimen",
        "_version_": 1669767305210363913
      },
      {
        "collectioncode": "SMNS Palaeontology VII",
        "fullscientificname": "Pyrit (Pyrite)",
        "id": "311795",
        "is_mineral": false,
        "mindat_id": 3314,
        "mindat_url": "https://www.mindat.org/min-3314.html",
        "recordbasis": "MeteoriteSpecimen",
        "unitid": "BB-2244-U",
        "_version_": 1669767306419372000
      },
      {
        "collectioncode": "TUG",
        "country": "Italy",
        "fullscientificname": "Andradite",
        "id": "357410",
        "is_mineral": true,
        "latitude": 41.816667,
        "locality": "Frascati",
        "longitude": 12.683333,
        "mindat_id": 223,
        "mindat_url": "https://www.mindat.org/min-223.html",
        "recordURI": "https://geocollections.info/specimen/298564",
        "relatedResource": "https://geocollections.info/file/117239",
        "unitid": "135-1707-2",
        "url": "https://files.geocollections.info/medium/fc/91/fc912711-cb4f-4aab-9bbb-c5d302542205.jpg",
        "_version_": 1669767311599337500
      },
      {
        "id": "326851",
        "collectioncode": "SMNS Palaeontology III",
        "unitid": "60241",
        "fullscientificname": "(?) Goniochirus aff. cristatus",
        "is_mineral": false,
        "country": "Germany",
        "_version_": 1669767308147425287
      },
      {
        "id": "300378",
        "collectioncode": "SMNS Palaeontology IX",
        "unitid": "12984",
        "fullscientificname": "(?) Megalodon cf. rimosum (Münster)",
        "is_mineral": false,
        "country": "Turkey",
        "_version_": 1669767305372893190
      },
      {
        "id": "68172",
        "collectioncode": "GIT",
        "unitid": "821-167",
        "highertaxon": "Brachiopoda",
        "higherrank": "Phylum",
        "fullscientificname": "(Porambonites (P.) latus",
        "is_mineral": false,
        "country": "Russia",
        "locality": "Syass River, Leningrad District",
        "latitude": 60.049105,
        "longitude": 32.595286,
        "stratigraphytext": "Volkhov Stage",
        "recordURI": "https://geocollections.info/specimen/317985",
        "_version_": 1669767259249180673
      },
      {
        "id": "68174",
        "collectioncode": "GIT",
        "unitid": "821-169",
        "highertaxon": "Brachiopoda",
        "higherrank": "Phylum",
        "fullscientificname": "(Porambonites (P.) latus",
        "is_mineral": false,
        "country": "Russia",
        "locality": "Syass River, Leningrad District",
        "latitude": 60.049105,
        "longitude": 32.595286,
        "stratigraphytext": "Volkhov Stage",
        "recordURI": "https://geocollections.info/specimen/317987",
        "_version_": 1669767259249180675
      },
      {
        "id": "47620",
        "collectioncode": "GIT",
        "unitid": "754-130",
        "highertaxon": "Chitinozoa",
        "higherrank": "Classis",
        "fullscientificname": "+ Calpichitina?",
        "is_mineral": false,
        "country": "Estonia",
        "locality": "Ruhnu 500 borehole",
        "latitude": 57.80317,
        "longitude": 23.24138,
        "stratigraphytext": "Jaagarahu Stage",
        "recordURI": "https://geocollections.info/specimen/275343",
        "url": "https://files.geocollections.info/medium/9c/5b/9c5bba4a-d74b-48b8-bb55-2df062406ec9.jpg",
        "relatedResource": "https://geocollections.info/file/104419",
        "_version_": 1669767255729111044
      }]
  },
  "facet_counts": {
    "facet_queries": {},
    "facet_fields": {
      "recordbasis": [
        "FossileSpecimen", 519710,
        "FossilSpecimen", 364296,
        "OtherSpecimen", 165421,
        "RockSpecimen", 32959,
        "MineralSpecimen", 15118,
        "Unspecified", 5509,
        "fossil", 4178,
        "MeteoriteSpecimen", 2128,
        "SedimentSample", 312,
        "TechnologicalSample", 201,
        "specimen", 185,
        "RecentPreservedSpecimen", 9],
      "highertaxon": [
        "Brachiopoda", 85445,
        "Bryozoa", 21008,
        "Sedimentary rocks", 18860,
        "Trilobita", 16130,
        "Rugosa", 15201,
        "Gastropoda", 13180,
        "Plantae", 12852,
        "Graptolithina", 12399,
        "Minerals", 11802,
        "Tabulata", 11268,
        "Cephalopoda", 10505,
        "Reptilien", 9284,
        "Conodonta", 7842,
        "Echinodermata", 7482,
        "Actinopterygii", 6651,
        "Porifera", 6618,
        "Ichnofossils", 6551,
        "Reptilia", 6428,
        "Chitinozoa", 6300,
        "Stromatoporoidea", 5685,
        "Mammalia", 5611,
        "Biota", 5147,
        "Insecta", 5128,
        "Agnatha", 5089,
        "Ostracoda", 4756,
        "Whatever", 4107,
        "Bivalvia", 3930,
        "Chondrichthyes", 3696,
        "Amphibia", 2911,
        "Mammalia Quartär", 2911,
        "Pisces", 2885,
        "Algae", 2261,
        "Carbonate rocks", 2239,
        "Placodermi", 1968,
        "Iron meteorites", 1933,
        "Gastropoda / Apogastropoda / Caenogastropoda", 1921,
        "Foraminifera", 1722,
        "Articulata", 1720,
        "Echinoidea", 1670,
        "Animalia (Metazoa)", 1661,
        "Aves", 1572,
        "Siliciclastic rocks", 1547,
        "Igneous- and metamorphic rocks", 1546,
        "Metazoa", 1520,
        "Asaphida", 1507,
        "Acritarcha", 1440,
        "Strophomenida", 1366,
        "Bivalvia / Autobranchia / Heteroconchia / Heterodonta", 1363,
        "Sarcopterygii", 1358,
        "Eunicida", 1206,
        "Bryozoa / Gymnolaemata", 1128,
        "Calymenina", 1088,
        "Limestone", 1084,
        "Heliolitida", 1041,
        "Rocks", 988,
        "Chelicerata", 975,
        "Igneous rocks", 960,
        "Illaenina", 914,
        "Bivalvia / Autobranchia / Pteriomorphia / Eupteriomorphia", 881,
        "Leperditicopida", 810,
        "Cheirurina", 804,
        "Clitambonitidae", 708,
        "Proetida", 647,
        "Bryozoa / Stenolaemata", 578,
        "Osteichthyes", 562,
        "Osteostraci", 545,
        "Sandstone", 545,
        "Arachnida", 536,
        "Anthozoa", 513,
        "Bivalvia / Autobranchia / Pteriomorphia / Prionodonta", 507,
        "Metamorphic rocks", 476,
        "Gastropoda / Apogastropoda / Heterobranchia", 472,
        "Phacopina", 465,
        "Crinoidea", 443,
        "Acanthodii", 433,
        "Eumetazoa", 422,
        "Psammosteiformes", 391,
        "Pycnosteidae", 379,
        "Favositida", 374,
        "Cystoidea", 355,
        "Magnoliophyta", 354,
        "Gastropoda / Orthogastropoda", 306,
        "Hyolitha", 298,
        "Clitambonitidina", 266,
        "Strophomenidae", 260,
        "Heterostraci", 258,
        "Crustacea", 238,
        "Sediments", 230,
        "Orthida", 212,
        "Rhynchonelliformea", 205,
        "Incertae sedis (fossils)", 201,
        "Annelida / Polychaeta", 200,
        "Mollusca", 190,
        "Conulariida", 184,
        "Plectambonitoidea", 180,
        "Lingulata", 179,
        "Bivalvia / Autobranchia / Pteriomorphia / Isofilibranchia", 175,
        "Stone meteorites", 173,
        "Leptestiidae", 171,
        "Anthozoa / Hexacorallia", 170],
      "type_status": [
        "cited specimen", 53426,
        "reference specimen", 12967,
        "figured specimen", 7871,
        "holotype", 3571,
        "syntype", 1960,
        "paratype", 1489,
        "Holotypus", 1133,
        "Paratypus", 561,
        "Syntypus", 309,
        "Lectotypus", 151,
        "Paralectotypus", 123,
        "neotype", 114,
        "lectotype", 111,
        "Typus", 100,
        "other type", 61,
        "unpublished type", 60,
        "paralectotype", 23,
        "Neotypus", 17,
        "type", 10,
        "Topotypus", 8,
        "Para-Neotypus", 3],
      "country": [
        "Estonia", 227220,
        "Deutschland", 59264,
        "Germany", 58462,
        "Russia", 28152,
        "Latvia", 19379,
        "Austria", 17054,
        "Italien", 10035,
        "Russland", 8652,
        "Sweden", 8496,
        "USA", 8028,
        "Tschechische Republik", 7899,
        "Lithuania", 7694,
        "Polen", 6843,
        "Schweiz", 5951,
        "Tanzania", 5766,
        "Norwegen", 5629,
        "Österreich", 5419,
        "Schweden", 5113,
        "Großbritannien", 4569,
        "Namibia", 4432,
        "Frankreich", 3614,
        "Brasilien", 3470,
        "Ukraine", 3334,
        "Canada", 3246,
        "Italy", 2633,
        "Rumänien", 2561,
        "unbekannt", 2220,
        "Slowakische Republik", 2212,
        "Czech Republic", 2167,
        "United States", 2121,
        "Kazakstan", 1993,
        "Mexiko", 1880,
        "Poland", 1828,
        "Südafrika", 1768,
        "Norway", 1622,
        "Kanada", 1404,
        "Dänemark", 1318,
        "Greece", 1295,
        "Spanien", 1192,
        "Island", 1094,
        "United Kingdom", 1088,
        "Finnland", 1014,
        "Switzerland", 1010,
        "France", 997,
        "Egypt", 967,
        "Australien", 954,
        "Argentinien", 894,
        "Bosnia And Herzegowina", 891,
        "Chile", 882,
        "Syrian Arab Republic", 854,
        "Bolivien", 849,
        "Finland", 795,
        "Sri Lanka", 773,
        "Lebanon", 732,
        "Belarus", 722,
        "China", 663,
        "Japan", 573,
        "Australia", 555,
        "Slovenia", 545,
        "Hungary", 490,
        "Turkey", 488,
        "Indien", 477,
        "Belgien", 450,
        "Bulgarien", 442,
        "Griechenland", 425,
        "Romania", 383,
        "Kasachstan", 370,
        "Ungarn", 339,
        "Brazil", 330,
        "Slowenien", 325,
        "Uruguay", 300,
        "Mongolei", 299,
        "Italien/Frankreich", 284,
        "Ägypten", 271,
        "Peru", 264,
        "Spain", 258,
        "Bulgaria", 249,
        "Slovakia (slovak Republic)", 241,
        "Portugal", 240,
        "Tansania", 234,
        "Denmark", 221,
        "Iran (islamic Republic Of)", 212,
        "Nepal", 190,
        "Jordanien", 189,
        "Croatia (local Name: Hrvatska)", 186,
        "Serbien", 185,
        "Cameroon", 183,
        "Türkei", 172,
        "Saudi Arabia", 166,
        "Madagaskar", 164,
        "Fundort unbekannt", 158,
        "Indonesien", 156,
        "Kolumbien", 144,
        "Kongo (Zaire)", 142,
        "Marokko", 136,
        "Neuseeland", 133,
        "Algerien", 122,
        "Indonesia", 121,
        "South Africa", 120,
        "Oman", 117],
      "datasetowner": [
        "Museum für Naturkunde Berlin", 666229,
        "Department of Geology, TalTech", 260384,
        "Estonian Museum of Natural History", 53727,
        "Naturhistorisches Museum Wien, Geologisch-Paläontologische Abteilung", 26790,
        "Museum of Geology, University of Tartu", 23800,
        "Museum of Natural History Mainz", 9266,
        "Staatliches Museum fuer Naturkunde Stuttgart (State Museum of Natural History Stuttgart)", 6104,
        "Eid.Technische Hochschule", 1883],
      "providername": [
        "Neptune", 500808,
        "Geocollections of Estonia", 202663,
        "Museum für Naturkunde", 165421,
        "SARV", 110721,
        "Staatliches Museum für Naturkunde Stuttgart", 55831,
        "Vienna", 26790,
        "ELM", 24527,
        "MfN", 18902,
        "ETH Zürich", 4363],
      "providercountry": [
        "Germany", 740962,
        "Estonia", 337911,
        "Austria", 26790,
        "Swizerland", 4363]
    },
    "facet_ranges": {},
    "facet_intervals": {},
    "facet_heatmaps": {}
  }
}

router.get('/', (req, res) => {
  if (req.query && req.query.q && req.query.q.includes("id:")) {
    let clonedData = JSON.parse(JSON.stringify(mockData));
    let id = req.query.q.split(":")[1];
    let item = clonedData.response.docs.find(item => item.id === id);
    clonedData.response.docs = [item];
    res.send(clonedData);
  } else res.send(mockData);
});

module.exports = router;
